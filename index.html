<!DOCTYPE html>
<html>
  <head>
    <title>SAFE GAUG</title>
    <script src="serial.js"></script>
    <script src="application.js"></script>
    <link rel="stylesheet" href="application.css">
  </head>
  <body>
    <div class="main-content">
      <h1>SAFE GAUGE</h1>
      <div class="connect-container">
        <button id="connect" class="button black">Connect</button>
        <span id="status"></span>
      </div>
      <div class="container">
        <div class="sender">
          <div class="lines-header">Sender</div>
          <div class="lines-body">
            <div id="sender_lines" class="lines"></div>
            <input id="command_line" class="command-line" placeholder="Start typing ...." />
          </div>
        </div>
        <div class="receiver">
          <div class="lines-header">Receiver</div>
          <div class="lines-body">
            <div id="receiver_lines" class="lines"></div>
          </div>
        </div>
      </div>
    </div>
<script src="https://www.gstatic.com/charts/loader.js"></script>
    <div style="display:flex;align-items:flex-end;">
  <div></div>
</div>
<div id="monitor-chart"></div>

<script type="text/javascript">
// Load google charts
google.charts.load('current', {
  callback: function () {
    var chart = new google.visualization.LineChart(document.getElementById('monitor-chart'));

    var options = {'title' : 'SENSOR DATA',
      animation: {
        duration: 1000,
        easing: 'out',
        startup: true
      },
      hAxis: {
        title: 'Time'
      },
      vAxis: {
        title: 'PRESSURE READING'
      },
      height: 400
    };

    var data = new google.visualization.DataTable();
    data.addColumn('datetime', 'Time');
    data.addColumn('number', 'Sensor 1');
    data.addColumn('number', 'Sensor 2');

    var formatDate = new google.visualization.DateFormat({pattern: 'hh:mm:ss'});
    var formatNumber = new google.visualization.NumberFormat({pattern: '#,##0.0'});

    getTemp();
    setInterval(getTemp, 5000);
    function getTemp() {
      var temperature = (Math.random() * (35 - 30) + 30);
      var humidity = (Math.random() * (40 - 15) + 15);
      var timestamp = new Date();
      drawChart(timestamp, temperature, humidity);
    }

    function drawChart(timestamp, temperature, humidity) {
      data.addRow([timestamp, temperature, humidity]);

      formatDate.format(data, 0);
      formatNumber.format(data, 1);
      formatNumber.format(data, 2);

      chart.draw(data, options);
    }
  },
  packages:['corechart']
});
</script>

  </body>
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <style>
        #chart_div {
            width: 1200px;
        }
        
        body {
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
</html>


